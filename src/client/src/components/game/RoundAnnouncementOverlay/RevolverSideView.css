/* ==========================================
   REVOLVER SIDE VIEW - CSS Animations
   ========================================== */

.revolver-side-view {
  filter: drop-shadow(0 4px 20px rgba(0, 0, 0, 0.5));
}

/* ==========================================
   CYLINDER OPEN/CLOSE ANIMATION
   ========================================== */

.revolver-cylinder-group {
  transition: transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.revolver-cylinder-group.open {
  transform: translateX(-25px) rotateY(-45deg) scale(1.05);
}

/* Cylinder body subtle pulse when open */
.revolver-cylinder-group.open .cylinder-body {
  animation: cylinder-open-pulse 1s ease-in-out infinite;
}

@keyframes cylinder-open-pulse {
  0%, 100% {
    filter: brightness(1);
  }
  50% {
    filter: brightness(1.15);
  }
}

/* Glow effect when cylinder is open */
.cylinder-glow {
  animation: glow-pulse 1.2s ease-in-out infinite;
}

@keyframes glow-pulse {
  0%, 100% {
    opacity: 0.3;
    stroke-width: 2;
  }
  50% {
    opacity: 0.6;
    stroke-width: 4;
  }
}

/* ==========================================
   ENTRANCE ANIMATION
   ========================================== */

.revolver-side-view.entering {
  animation: revolver-slide-in 0.8s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

@keyframes revolver-slide-in {
  0% {
    opacity: 0;
    transform: translateX(-80px) scale(0.85) rotate(-5deg);
  }
  60% {
    opacity: 1;
    transform: translateX(10px) scale(1.02) rotate(1deg);
  }
  100% {
    opacity: 1;
    transform: translateX(0) scale(1) rotate(0deg);
  }
}

/* ==========================================
   EXIT ANIMATION (transition to top view)
   ========================================== */

.revolver-side-view.exiting {
  animation: revolver-rotate-out 0.7s cubic-bezier(0.55, 0, 1, 0.45) forwards;
}

@keyframes revolver-rotate-out {
  0% {
    opacity: 1;
    transform: perspective(800px) rotateX(0deg) scale(1);
  }
  40% {
    opacity: 1;
    transform: perspective(800px) rotateX(-30deg) scale(0.95);
  }
  100% {
    opacity: 0;
    transform: perspective(800px) rotateX(-90deg) scale(0.7);
  }
}

/* ==========================================
   HOVER EFFECTS (for debugging/preview)
   ========================================== */

.revolver-side-view:hover .revolver-barrel rect:first-child {
  filter: brightness(1.1);
}

.revolver-side-view:hover .revolver-grip path:first-child {
  filter: brightness(1.05);
}

/* ==========================================
   RESPONSIVE ADJUSTMENTS
   ========================================== */

@media (max-width: 480px) {
  .revolver-side-view {
    max-width: 280px;
  }
}
