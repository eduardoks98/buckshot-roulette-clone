<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buckshot Roulette</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="game-container">
        <!-- Tela inicial -->
        <div id="start-screen">
            <h1 class="game-title">BUCKSHOT<br>ROULETTE</h1>
            <p class="subtitle">Um jogo de vida ou morte</p>
            <button id="btn-start" class="main-btn">JOGAR</button>
        </div>

        <!-- Tela do jogo -->
        <div id="game-screen" class="hidden">
            <!-- Header -->
            <header id="game-header">
                <div id="round-display">RODADA <span id="round-num">1</span>/3</div>
                <div id="shell-count">
                    <span class="live">LIVE: <span id="live-count">0</span></span>
                    <span class="blank">BLANK: <span id="blank-count">0</span></span>
                </div>
            </header>

            <!-- √Årea do Dealer -->
            <section id="dealer-area">
                <div class="character-label">O DEALER</div>
                <div id="dealer-hp" class="hp-display"></div>
                <div id="dealer-items" class="items-display"></div>
                <div id="dealer-status" class="status-indicator"></div>
            </section>

            <!-- √Årea central com espingarda -->
            <section id="game-area">
                <div id="shotgun">
                    <div id="shell-chamber">?</div>
                </div>

                <div id="turn-indicator">SEU TURNO</div>

                <div id="action-buttons">
                    <button id="btn-shoot-dealer" class="action-btn">
                        ATIRAR NO DEALER
                    </button>
                    <button id="btn-shoot-self" class="action-btn secondary">
                        ATIRAR EM SI
                    </button>
                </div>
            </section>

            <!-- √Årea do Jogador -->
            <section id="player-area">
                <div id="player-status" class="status-indicator"></div>
                <div id="player-hp" class="hp-display"></div>
                <div class="character-label">VOC√ä</div>
            </section>
        </div>

        <!-- Overlay de mensagens -->
        <div id="message-overlay" class="hidden">
            <div id="message-content"></div>
        </div>

        <!-- Modal de sele√ß√£o de item (para Adrenalina) -->
        <div id="item-select-modal" class="hidden">
            <div class="modal-content">
                <h3>Escolha um item para roubar:</h3>
                <div id="steal-items" class="items-display"></div>
                <button id="btn-cancel-steal" class="action-btn secondary">Cancelar</button>
            </div>
        </div>

        <!-- Tela de fim de rodada -->
        <div id="round-end-screen" class="hidden">
            <h2 id="round-end-title"></h2>
            <p id="round-end-message"></p>
            <button id="btn-next-round" class="main-btn">PR√ìXIMA RODADA</button>
        </div>

        <!-- Tela de Game Over -->
        <div id="game-over-screen" class="hidden">
            <h1 id="game-over-title"></h1>
            <p id="game-over-message"></p>
            <button id="btn-restart" class="main-btn">JOGAR NOVAMENTE</button>
        </div>

        <!-- ========================================
             MULTIPLAYER
        ======================================== -->

        <!-- Lobby Multiplayer -->
        <div id="multiplayer-lobby" class="hidden">
            <h1 class="game-title">MULTIPLAYER</h1>
            <p class="subtitle">2-4 Jogadores Online</p>

            <div class="lobby-form">
                <input type="text" id="player-name" placeholder="Seu nome" maxlength="15" class="lobby-input">

                <!-- CRIAR SALA -->
                <div class="create-section">
                    <input type="password" id="room-password" placeholder="Senha (opcional)" maxlength="20" class="lobby-input">
                    <button onclick="createRoom()" class="main-btn">CRIAR SALA</button>
                </div>

                <!-- ENTRAR COM C√ìDIGO -->
                <div class="join-section">
                    <p class="join-label">ou entre com c√≥digo:</p>
                    <input type="text" id="room-code" placeholder="C√ìDIGO" maxlength="6" class="lobby-input code-input">
                    <input type="password" id="join-room-password" placeholder="Senha (se tiver)" maxlength="20" class="lobby-input">
                    <button onclick="joinRoom()" class="main-btn secondary">ENTRAR</button>
                </div>

                <!-- LISTA DE SALAS -->
                <div class="rooms-section">
                    <div class="rooms-header">
                        <h3>SALAS DISPON√çVEIS</h3>
                        <button onclick="refreshRoomList()" class="refresh-btn">üîÑ</button>
                    </div>
                    <div id="room-list" class="room-list">
                        <p class="no-rooms">Clique em üîÑ para atualizar</p>
                    </div>
                </div>

                <button onclick="backToMenu()" class="back-btn">VOLTAR</button>
            </div>
        </div>

        <!-- Modal de Senha -->
        <div id="password-modal" class="hidden">
            <div class="modal-content">
                <h3>üîí Sala Protegida</h3>
                <input type="hidden" id="password-room-code">
                <input type="password" id="join-password" placeholder="Digite a senha" class="lobby-input">
                <div class="modal-buttons">
                    <button onclick="submitPassword()" class="main-btn">ENTRAR</button>
                    <button onclick="cancelPasswordModal()" class="main-btn secondary">CANCELAR</button>
                </div>
            </div>
        </div>

        <!-- Sala de Espera -->
        <div id="waiting-room" class="hidden">
            <h2>SALA</h2>
            <div id="room-code-display" class="room-code"></div>
            <p class="subtitle">Compartilhe o c√≥digo com seus amigos</p>

            <div id="player-count" class="player-count">0/4 jogadores</div>
            <div id="players-list" class="players-list"></div>

            <button id="btn-start-multiplayer" class="main-btn hidden" onclick="startMultiplayerGame()">
                INICIAR JOGO
            </button>

            <button onclick="leaveCurrentRoom()" class="back-btn">SAIR DA SALA</button>
        </div>

        <!-- Jogo Multiplayer -->
        <div id="multiplayer-game" class="hidden">
            <!-- Header -->
            <header id="mp-header">
                <div>RODADA <span id="mp-round">1</span>/3</div>
                <div id="mp-shell-count">
                    <span class="live">LIVE: <span id="mp-live-count">0</span></span>
                    <span class="blank">BLANK: <span id="mp-blank-count">0</span></span>
                </div>
            </header>

            <!-- Ordem dos turnos -->
            <div id="turn-order">
                <span id="turn-direction">‚Üí Hor√°rio</span>
            </div>

            <!-- Jogadores -->
            <div id="mp-players"></div>

            <!-- √Årea central -->
            <div id="mp-game-area">
                <div id="mp-shotgun">
                    <div id="mp-shell-chamber">?</div>
                </div>
                <div id="mp-turn-indicator">AGUARDANDO...</div>
                <div id="mp-turn-timer" class="turn-timer">
                    <span id="timer-display">2:00</span>
                </div>
            </div>

            <!-- Bot√µes de a√ß√£o -->
            <div id="mp-action-buttons"></div>

            <!-- Overlay de mensagens -->
            <div id="mp-message-overlay" class="hidden">
                <div id="mp-message-content"></div>
            </div>

            <!-- Modal de sele√ß√£o de alvo -->
            <div id="target-select-modal" class="hidden">
                <div class="modal-content">
                    <h3 id="target-select-title">Escolha o alvo:</h3>
                    <div id="target-options"></div>
                    <button onclick="cancelTargetSelection()" class="action-btn secondary">Cancelar</button>
                </div>
            </div>

            <!-- Modal de Roubo de Item (Adrenalina) -->
            <div id="item-steal-modal" class="hidden">
                <div class="modal-content">
                    <h3>üíâ ROUBAR ITEM</h3>
                    <p>Escolha um item de <span id="steal-target-name"></span>:</p>
                    <div id="steal-item-options" class="steal-items-grid"></div>
                    <button onclick="cancelItemSteal()" class="action-btn secondary">Cancelar</button>
                </div>
            </div>

            <!-- Game Over Multiplayer -->
            <div id="mp-game-over" class="hidden">
                <h1 id="mp-game-over-title"></h1>
                <p id="mp-game-over-message"></p>
                <button onclick="restartMultiplayer()" class="main-btn">VOLTAR AO LOBBY</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <script src="game.js"></script>
    <script src="multiplayer.js"></script>
    <script>
        function backToMenu() {
            document.getElementById('multiplayer-lobby').classList.add('hidden');
            document.getElementById('start-screen').classList.remove('hidden');
        }
    </script>
</body>
</html>
